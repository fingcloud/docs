---
title: Php
description: چگونه برنامه php خود را بر روی سکوی ابری فینگ مستقر(deploy) کنیم؟
---

import { PlatformHead, Platform } from "components/PlatformHead";
import { Notice } from "components/Notice";

<Platform>
  <PlatformHead title="برنامه‌های Php" icon="php/php-original.svg" />
</Platform>

# پشتیبانی فینگ از Php

این سند رفتار کلی **فینگ** را در رابطه با شناسایی و اجرای برنامه‌های php توضیح می دهد. برای آگاهی بیشتر در مورد نحوه‌ی استقرار یک برنامه، به بخش [اجرای برنامه Php](quickstar/php/) مراجعه کنید.

فینگ استقرار و مقیاس‌پذیری برنامه‌‌های php را آسان می‌کند.

سرور **فینگ** زمانی یک برنامه را به عنوان **برنامه‌ی php** در نظر می‌گیرد که در ریشه اصلی آن فایل `composer.json` وجود داشته باشد. در این صورت یعنی پروژه شما از یکی از **فریمورک‌های پی‌اچ‌پی** استفاده می‌کند.
و اگر در ریشه برنامه فایل `index.php` باشد، **فینگ** آن را به عنوان یک برنامه‌ی **php** معمولی در نظر می‌گیرد.

هنگامی که یک برنامه‌ی استقرار یافته در فینگ به عنوان **برنامه php** شناسایی می‌شود، خروجی زیر را مشاهده خواهید کرد:

```bash
$ fing up
...
---> platform: php
```

## نسخه‌هایی که پشتیبانی می‌شوند

**فینگ** نسخه‌های مختلفی از ابزار **Go** را در اختیار قرار می‌دهد. نسخه‌هایی که فینگ در حال حاضر پشتیبانی می‌کند:
`7.2`، `7.3`، `7.4`، `8.0`، `8.1` می‌باشند.

<Notice variant="warning">
  نسخه <strong>php 7.4</strong> در حالت تعمیر و نگهداری امنیتی می‌باشد و در
  پایان سال 2022 به طور کامل به پایان می رسد. و فقط تعمیرات امنیتی حیاتی توسط
  گروه php برای این سری نسخه‌ها ارائه می شود. توصیه می‌شود برنامه‌های{" "}
  <strong>php 7</strong> خود را به نسخه <strong>php 8</strong> ارتقاء دهید. برای
  اطلاعات بیشتر در مورد جدول زمانی پشتیبانی از نسخه های php، به صفحه{" "}
  <a href="https://php.net/supported-versions.php">
   نسخه‌های پشتیبانی شده
  </a>{" "}
  در وب سایت رسمی php مراجعه کنید.
</Notice>

## تعیین نسخه‌ی Php

برای اینکه برنامه php شما بتواند **build** شده و با موفقیت بر روی **سکوی ابری فینگ** مستقر شود، باید نسخه‌ی آن را مشخص نمایید. برای این منظور می‌توانید به یکی از روش‌های زیر اقدام کنید:

### استفاده از فایل fing.yaml

می‌توانید از فایل `fing.yaml` در ریشه پروژه‌تان، برای تعیین نسخه‌ی **php** استفاده کنید. به اینصورت که در فایل مورد نظر عنوان `build` را وارد کرده و نسخه‌ی آن را مشخص کنید:

```yaml
# fing.yaml

...
build:
  php_version: 7.4
```

با استفاده از این روش، فینگ مراحل **استقرار** برنامه شما را با این نسخه‌ی تعیین شده از **go** آغاز خواهد کرد.

### با استفاده از فایل composer.json

می‌توانید فایل `composer.json`  را باز کرده و نسخه برنامه **php** خود را مشخص کنید. **فینگ**  بر اساس نسخه‌ی مشخص شده، مراحل استقرار برنامه پی‌اچ‌پی را آغاز می‌کند.

```json
// composer.json

...
"require": {
    "php": "7.4"
  }
```

### استفاده از نسخه‌ی پیش‌فرض

اگر نسخه‌ی مورد نظر خود را مشخص نکرده باشید، **فینگ** از نسخه‌ی پیش فرض `php 7.4` برای **ساخت** و **استقرار** برنامه‌ی شما استفاده خواهد کرد.

## روند ساخت یک برنامه php

برای ساخت و راه‌اندازی برنامه‌ی **php**، ابتدا **فینگ** کتابخانه‌های برنامه را نصب و سپس مراحل build برنامه را آغاز کرده و با توجه به دستور اجرایی که در برنامه مشخص شده است، یک برنامه پی‌اچ‌پی را اجرا می‌کند.

### نصب کتابخانه‌ها

برای نصب کتابخانه‌های برنامه php, حتما باید در ریشه اصلی پروژه خود، فایل `composer.lock` وجود داشته باشد.**فینگ** به طور پیش فرض همه وابستگی‌هایی که در فایل `composer.json` تحت عنوان **require-dev** می‌باشند را نصب خواهد کرد.

### دستور اجرای برنامه

برای اینکه برنامه‌ی **پی‌اچ‌پی** به درستی اجرا شود، باید دستور اجرای آن مشخص شده باشد. **فینگ** برای این منظور از روش زیر اقدام به اجرای برنامه می‌کند:

#### با استفاده از Procfile

در ریشه‌ی اصلی پروژه فایل `Procfile` را ایجاد کرده و دستوراتی که برای اجرای برنامه مدنظر دارید را در آن قرار دهید. **فینگ** بر اساس دستور موجود در **پراک فایل** ، برنامه را جهت استقرار آماده می‌کند.

```Procfile
// Procfile

web: php -S 0.0.0.0:$PORT
```
